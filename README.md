# detonationFoam_V2.0 (based on OpenFOAM 8): An open-source solver for simulation of gaseous detonation based on OpenFOAM
The author will gradually upload example cases and improve the corresponding documentation before the end of June 2025.
## What's new?
1. Optimized the code structure (A new dictionary file named ‘solverTypeProperties’ has been added under the constant directory of the case folder to select the solver type, replacing the approach in version 1.0 where three separate solvers were compiled).

3. Fixed an initialization error in the turbulence model.

4. Modified the selection strategy for reconstructed variable members in convective flux computation (showing improved performance in supersonic combustion ramjet simulations).

## Directory structure
detonationFoam_V2.0
   ```
   solverTypeEuler (Solve Euler equations)  
   solverTypeNS_Sutherland (Solve N-S equations; transport parameters are calculated according to Sutherland model)  
   solverTypeNS_mixtureAverage (Solve N-S equations; transport parameters are calculated according to mixture-averaged model)  
   fluxSchemes_improved (Improved convective flux computation library)  
   DLBFoam-1.0-1.0_OF8 (Dynamic load balance library: https://github.com/blttkgl/DLBFoam-1.0/tree/v1.0_OF8. Optional)  
   dynamicMesh2D (2D adaptive mesh refinement library. Optional)  
   ROUNDSchemes (Low-dissipation reconstruction scheme. Optional)
   ```
   
## Compiling 
1. Install OpenFOAM version 8

2. Compile detonationFoam_V2.0
   ```
   cd detonationFoam_V2.0
   ./Allwmake
   ```
## Applications
Since detonationFoam solver released on Github, it has been successfully applied in simulation of detonation, scramjet, reactive boundary layer. Here are some typical examples.

### Cellular detonation; Detonation diffraction; Detonation initiation
<img src="https://github.com/user-attachments/assets/939372de-4903-41bd-9e39-48117f447502" width="800"/>

### Oblique detonation wave
<img src="https://github.com/user-attachments/assets/2d7d6650-9828-4691-ae96-471ef0d2bd2b" width="800"/>

### Rotating detonation wave 
Figures are provided by Mr. Jiehui Hu (PhD candidate) from Shanghai Jiao Tong University.

<img src="https://github.com/user-attachments/assets/f3b67ade-9abe-4dff-ac4c-36bcef51530a" width="800"/>

### Scramjet; Turbulent boundary layer
The simulation of the scramjet was completed in collaboration with Mr. Menglei Li (PhD candidate) from the National University of Defense Technology.  
The simulation of the turbulent boundary layer was completed with the assistance of Mr. Xin Li (PhD candidate) from National University of Defense Technology.
<img src="https://github.com/user-attachments/assets/c4e5e052-6fab-4502-b33c-491b4492d17d" width="800"/>

## Getting help and reporting bugs
Please submit a GitHub issue if you found a bug in the program. If you need help with the software or have further questions, contact sunjie_coe@pku.edu.cn and cz@pku.edu.cn.

##  Citation
If you use the code for your works and researches, please cite: 

   ```
   J. Sun, Y. Wang, B. Tian, Z. Chen, detonationFoam: An open-source solver for simulation of gaseous detonation based on OpenFOAM, Computer Physics Communications 292 (2023) 108859.
   ```
##  Publications Using detonationFoam Solver
[1] J. Sun, D. Yu, P. Yang, Y. Wang, S. Wang, Z. Chen, Detonation initiation induced by dual hot spots: a computational study, Journal of Fluid Mechanics 1010 (2025) A60.  
[2] J. Sun, P. Yang, Z. Chen, Dynamic interaction patterns of oblique detonation waves with boundary layers in hypersonic reactive flows, Combustion and Flame 271 (2025) 113832.  
[3] Z. Yang, B. Zhang, H.D. Ng, Experimental observations of gaseous cellular detonation reflection, Proceedings of the Combustion Institute 40 (2024) 105519.  
[4] Z. Yang, B. Zhang, Investigation on the dynamics of shock wave generated by detonation reflection, Combustion and Flame 270 (2024) 113791.  
[5] J. Sun, P. Yang, Y. Wang, Z. Chen, Numerical study on detonation initiation by multiple hot spots, Proceedings of the Combustion Institute 40 (2024) 105191.  
[6] Y. Liu, H. Wang, K. Luo, J. Fan, Numerical simulations of wedge-induced oblique detonation waves in ammonia/hydrogen/air mixtures, International Journal of Hydrogen Energy 86 (2024) 199-207.  
[7] J. Hu, B. Zhang, Time/frequency domain analysis of detonation wave propagation mechanism in a linear rotating detonation combustor, Applied Thermal Engineering 255 (2024) 124014.  
[8] J. Hu, J. Cheng, B. Zhang, H.D. Ng, The diffraction and re-initiation characteristics of gaseous detonations with an irregular cellular structure, Aerospace Science and Technology 150 (2024) 109240.  
[9] J. Sun, P. Yang, B. Tian, Z. Chen, Evolution and Control of Oblique Detonation Wave Structure in Unsteady Inflow, AIAA Journal 61 (2023) 4808-4820.  
[10] J. Sun, Y. Wang, B. Tian, Z. Chen, detonationFoam: An open-source solver for simulation of gaseous detonation based on OpenFOAM, Computer Physics Communications 292 (2023) 108859.  
[11] J. Sun, P. Yang, B. Tian, Z. Chen, Effects of wedge-angle change on the evolution of oblique detonation wave structure, Physics of Fluids 34 (2022) 096112.  












